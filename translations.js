// Tradu√ß√µes para internacionaliza√ß√£o
const translations = {
  en: {
    title: "Wanderley Albuquerque | Senior PHP & JavaScript Developer",
    description:
      "Senior PHP Developer with 10+ years experience building scalable web applications. Expert in CakePHP, Slim Framework, React, Vue.js, and modern development practices. Available for consulting and development projects.",
    keywords:
      "PHP Developer, JavaScript Developer, CakePHP, Slim Framework, React, Vue.js, Backend Developer, Full Stack Developer, Web Development, API Development",
    name: "Wanderley Albuquerque",
    intro:
      "Hi, I'm Wanderley Albuquerque ‚Äî a <strong>senior backend developer</strong> with over a decade of experience building reliable and scalable web applications. I specialize in <strong>Core PHP, CakePHP, and Slim Framework</strong>, crafting robust APIs and backend systems that power business-critical solutions.",
    passion:
      "I'm passionate about <strong>clean architecture, automation, and collaborative development</strong> ‚Äî always striving to simplify complexity while delivering real business value through innovative technical solutions.",
    experience:
      "Throughout my career, I've successfully worked across legacy systems and cutting-edge modern stacks, consistently delivering <strong>secure, testable, and maintainable code</strong>. I'm proficient with <strong>CI/CD pipelines, Docker, Git workflows</strong>, and modern development practices that ensure fast, reliable, and continuous delivery.",
    frontend:
      "On the frontend, I have extensive experience with <strong>JavaScript</strong>, working with modern libraries and frameworks like <strong>jQuery, React.js, Next.js, and Vue.js</strong> to build dynamic, responsive, and user-friendly interfaces that deliver exceptional user experiences.",
    cta: "Ready to tackle your next challenge? <strong>Let's build something exceptional together.</strong>",
    linkedinAlt: "LinkedIn Profile",
    githubAlt: "GitHub Profile",
    projectsTitle: "Featured Projects",
    projectTitle: "Tayrone Oliveira - Official Website",
    projectDescription:
      "Complete website developed with Next.js featuring modern design, full responsivity, and multiple API integrations. Built with cutting-edge technologies and best development practices.",
    projectTech:
      "Next.js, React, Tailwind CSS, API Integration, Responsive Design",
    projectLinkText: "Visit Website",
    projectGithubText: "View Code",
    showcaseTitle: "Tayrone Oliveira - Official Website",
    showcaseDescription:
      "Complete website developed with Next.js, showcasing skills in modern technologies, responsive design and advanced API integrations.",
    showcaseLinkText: "üåê Visit Official Website",
    lang: "en",
  },
  pt: {
    title: "Wanderley Albuquerque | Desenvolvedor S√™nior PHP & JavaScript",
    description:
      "Desenvolvedor PHP S√™nior com mais de 10 anos de experi√™ncia construindo aplica√ß√µes web escal√°veis. Especialista em CakePHP, Slim Framework, React, Vue.js e pr√°ticas modernas de desenvolvimento. Dispon√≠vel para consultoria e projetos de desenvolvimento.",
    keywords:
      "Desenvolvedor PHP, Desenvolvedor JavaScript, CakePHP, Slim Framework, React, Vue.js, Desenvolvedor Backend, Desenvolvedor Full Stack, Desenvolvimento Web, Desenvolvimento de API",
    name: "Wanderley Albuquerque",
    intro:
      "Ol√°, eu sou Wanderley Albuquerque ‚Äî um <strong>desenvolvedor backend s√™nior</strong> com mais de uma d√©cada de experi√™ncia construindo aplica√ß√µes web confi√°veis e escal√°veis. Sou especialista em <strong>Core PHP, CakePHP e Slim Framework</strong>, criando APIs robustas e sistemas backend que alimentam solu√ß√µes cr√≠ticas para neg√≥cios.",
    passion:
      "Sou apaixonado por <strong>arquitetura limpa, automa√ß√£o e desenvolvimento colaborativo</strong> ‚Äî sempre buscando simplificar a complexidade enquanto entrego valor real aos neg√≥cios atrav√©s de solu√ß√µes t√©cnicas inovadoras.",
    experience:
      "Ao longo da minha carreira, trabalhei com sucesso em sistemas legados e stacks modernos de ponta, entregando consistentemente <strong>c√≥digo seguro, test√°vel e sustent√°vel</strong>. Sou proficiente em <strong>pipelines de CI/CD, Docker, fluxos Git</strong> e pr√°ticas modernas de desenvolvimento que garantem entrega r√°pida, confi√°vel e cont√≠nua.",
    frontend:
      "No frontend, tenho ampla experi√™ncia com <strong>JavaScript</strong>, trabalhando com bibliotecas e frameworks modernos como <strong>jQuery, React.js, Next.js e Vue.js</strong> para construir interfaces din√¢micas, responsivas e amig√°veis que proporcionam experi√™ncias excepcionais ao usu√°rio.",
    cta: "Pronto para enfrentar seu pr√≥ximo desafio? <strong>Vamos construir algo excepcional juntos.</strong>",
    linkedinAlt: "Perfil do LinkedIn",
    githubAlt: "Perfil do GitHub",
    projectsTitle: "Projetos em Destaque",
    projectTitle: "Tayrone Oliveira - Site Oficial",
    projectDescription:
      "Site completo desenvolvido com Next.js apresentando design moderno, responsividade total e m√∫ltiplas integra√ß√µes com APIs. Constru√≠do com tecnologias de ponta e melhores pr√°ticas de desenvolvimento.",
    projectTech:
      "Next.js, React, Tailwind CSS, Integra√ß√£o com APIs, Design Responsivo",
    projectLinkText: "Visitar Site",
    projectGithubText: "Ver C√≥digo",
    showcaseTitle: "Tayrone Oliveira - Site Oficial",
    showcaseDescription:
      "Site completo desenvolvido com Next.js, destacando habilidades em tecnologias modernas, design responsivo e integra√ß√µes avan√ßadas com APIs.",
    showcaseLinkText: "üåê Visitar Site Oficial",
    lang: "pt-br",
  },
  es: {
    title: "Wanderley Albuquerque | Desarrollador Senior PHP & JavaScript",
    description:
      "Desarrollador PHP Senior con m√°s de 10 a√±os de experiencia construyendo aplicaciones web escalables. Especialista en CakePHP, Slim Framework, React, Vue.js y pr√°cticas modernas de desarrollo. Disponible para consultor√≠a y proyectos de desarrollo.",
    keywords:
      "Desarrollador PHP, Desarrollador JavaScript, CakePHP, Slim Framework, React, Vue.js, Desarrollador Backend, Desarrollador Full Stack, Desarrollo Web, Desarrollo de API",
    name: "Wanderley Albuquerque",
    intro:
      "Hola, soy Wanderley Albuquerque ‚Äî un <strong>desarrollador backend senior</strong> con m√°s de una d√©cada de experiencia construyendo aplicaciones web confiables y escalables. Me especializo en <strong>Core PHP, CakePHP y Slim Framework</strong>, creando APIs robustas y sistemas backend que alimentan soluciones cr√≠ticas para negocios.",
    passion:
      "Soy apasionado por la <strong>arquitectura limpia, automatizaci√≥n y desarrollo colaborativo</strong> ‚Äî siempre buscando simplificar la complejidad mientras entrego valor real a los negocios a trav√©s de soluciones t√©cnicas innovadoras.",
    experience:
      "A lo largo de mi carrera, he trabajado con √©xito en sistemas legados y stacks modernos de vanguardia, entregando consistentemente <strong>c√≥digo seguro, testeable y mantenible</strong>. Soy competente en <strong>pipelines de CI/CD, Docker, flujos Git</strong> y pr√°cticas modernas de desarrollo que garantizan entrega r√°pida, confiable y continua.",
    frontend:
      "En el frontend, tengo amplia experiencia con <strong>JavaScript</strong>, trabajando con bibliotecas y frameworks modernos como <strong>jQuery, React.js, Next.js y Vue.js</strong> para construir interfaces din√°micas, responsivas y amigables que proporcionan experiencias excepcionales al usuario.",
    cta: "¬øListo para enfrentar tu pr√≥ximo desaf√≠o? <strong>Construyamos algo excepcional juntos.</strong>",
    linkedinAlt: "Perfil de LinkedIn",
    githubAlt: "Perfil de GitHub",
    projectsTitle: "Proyectos Destacados",
    projectTitle: "Tayrone Oliveira - Sitio Web Oficial",
    projectDescription:
      "Sitio web completo desarrollado con Next.js presentando dise√±o moderno, responsividad total y m√∫ltiples integraciones con APIs. Construido con tecnolog√≠as de vanguardia y mejores pr√°cticas de desarrollo.",
    projectTech:
      "Next.js, React, Tailwind CSS, Integraci√≥n con APIs, Dise√±o Responsivo",
    projectLinkText: "Visitar Sitio",
    projectGithubText: "Ver C√≥digo",
    showcaseTitle: "Tayrone Oliveira - Sitio Web Oficial",
    showcaseDescription:
      "Sitio web completo desarrollado con Next.js, destacando habilidades en tecnolog√≠as modernas, dise√±o responsivo e integraciones avanzadas con APIs.",
    showcaseLinkText: "üåê Visitar Sitio Oficial",
    lang: "es",
  },
};

// Fun√ß√£o para detectar idioma baseado no dom√≠nio
function detectLanguage() {
  // Primeiro, verificar se h√° prefer√™ncia salva do usu√°rio
  const savedLang = localStorage.getItem("preferredLanguage");
  if (savedLang && translations[savedLang]) {
    return savedLang;
  }

  const hostname = window.location.hostname;

  // Se for dom√≠nio .com.br, usar portugu√™s
  if (hostname.includes(".com.br")) {
    return "pt";
  }

  // Se for dom√≠nio .es ou .com.es, usar espanhol
  if (hostname.includes(".es") || hostname.includes(".com.es")) {
    return "es";
  }

  // Para qualquer outro dom√≠nio (.com, etc), usar ingl√™s
  return "en";
}

// Fun√ß√£o para aplicar tradu√ß√µes
function applyTranslations(lang) {
  const t = translations[lang];

  if (!t) {
    console.warn(`Translations not found for language: ${lang}`);
    return;
  }

  // Atualizar meta tags
  document.title = t.title;
  document
    .querySelector('meta[name="description"]')
    .setAttribute("content", t.description);
  document
    .querySelector('meta[name="keywords"]')
    .setAttribute("content", t.keywords);
  document.querySelector("html").setAttribute("lang", t.lang);

  // Atualizar Open Graph
  document
    .querySelector('meta[property="og:title"]')
    .setAttribute("content", t.title);
  document
    .querySelector('meta[property="og:description"]')
    .setAttribute("content", t.description);

  // Atualizar Twitter Cards
  document
    .querySelector('meta[name="twitter:title"]')
    .setAttribute("content", t.title);
  document
    .querySelector('meta[name="twitter:description"]')
    .setAttribute("content", t.description);

  // Atualizar structured data
  const structuredData = document.querySelector(
    'script[type="application/ld+json"]'
  );
  if (structuredData) {
    const data = JSON.parse(structuredData.textContent);
    data.name = t.name;
    data.jobTitle = t.title.split(" | ")[1];
    data.description = t.description;
    structuredData.textContent = JSON.stringify(data, null, 2);
  }

  // Atualizar conte√∫do da p√°gina
  document.querySelector('[data-i18n="name"]').textContent = t.name;
  document.querySelector('[data-i18n="intro"]').innerHTML = t.intro;
  document.querySelector('[data-i18n="passion"]').innerHTML = t.passion;
  document.querySelector('[data-i18n="experience"]').innerHTML = t.experience;
  document.querySelector('[data-i18n="frontend"]').innerHTML = t.frontend;
  document.querySelector('[data-i18n="cta"]').innerHTML = t.cta;

  // Atualizar se√ß√£o de projetos
  const projectsTitle = document.querySelector('[data-i18n="projectsTitle"]');
  if (projectsTitle) projectsTitle.textContent = t.projectsTitle;

  const projectTitle = document.querySelector('[data-i18n="projectTitle"]');
  if (projectTitle) projectTitle.textContent = t.projectTitle;

  const projectDescription = document.querySelector(
    '[data-i18n="projectDescription"]'
  );
  if (projectDescription) projectDescription.innerHTML = t.projectDescription;

  const projectTech = document.querySelector('[data-i18n="projectTech"]');
  if (projectTech) projectTech.textContent = t.projectTech;

  const projectLinkText = document.querySelector(
    '[data-i18n="projectLinkText"]'
  );
  if (projectLinkText) projectLinkText.textContent = t.projectLinkText;

  const projectGithubText = document.querySelector(
    '[data-i18n="projectGithubText"]'
  );
  if (projectGithubText) projectGithubText.textContent = t.projectGithubText;

  // Atualizar se√ß√£o showcase
  const showcaseTitle = document.querySelector('[data-i18n="showcaseTitle"]');
  if (showcaseTitle) showcaseTitle.textContent = t.showcaseTitle;

  const showcaseDescription = document.querySelector(
    '[data-i18n="showcaseDescription"]'
  );
  if (showcaseDescription)
    showcaseDescription.textContent = t.showcaseDescription;

  const showcaseLinkText = document.querySelector(
    '[data-i18n="showcaseLinkText"]'
  );
  if (showcaseLinkText) showcaseLinkText.textContent = t.showcaseLinkText;

  // Atualizar alt texts
  document
    .querySelector('img[alt*="Linkedin"]')
    .setAttribute("alt", t.linkedinAlt);
  document.querySelector('img[alt*="Github"]').setAttribute("alt", t.githubAlt);

  // Atualizar URL do LinkedIn baseado no idioma
  const linkedinLink = document.querySelector('a[href*="linkedin.com"]');
  if (linkedinLink) {
    const baseUrl = "https://www.linkedin.com/in/wanderleyfa/";
    let locale;
    switch (lang) {
      case "pt":
        locale = "?locale=pt_BR";
        break;
      case "es":
        locale = "?locale=es_ES";
        break;
      default:
        locale = "?locale=en_US";
        break;
    }
    linkedinLink.setAttribute("href", baseUrl + locale);
  }
}

// Fun√ß√£o para alternar idioma
function switchLanguage() {
  const currentLang = getCurrentLanguage();
  const newLang = currentLang === "pt" ? "en" : "pt";

  // Salvar prefer√™ncia do usu√°rio
  localStorage.setItem("preferredLanguage", newLang);

  // Aplicar novo idioma
  applyTranslations(newLang);
}

// Fun√ß√£o para mudar para um idioma espec√≠fico
function setLanguage(lang) {
  if (!translations[lang]) {
    console.warn(`Language not supported: ${lang}`);
    return;
  }

  // Salvar prefer√™ncia do usu√°rio
  localStorage.setItem("preferredLanguage", lang);

  // Aplicar novo idioma
  applyTranslations(lang);

  // Atualizar bot√µes
  updateLanguageButtons(lang);
}

// Fun√ß√£o para atualizar os bot√µes de idioma
function updateLanguageButtons(currentLang) {
  const buttons = document.querySelectorAll(".language-button");
  buttons.forEach((button) => {
    const buttonLang = button.getAttribute("data-lang");
    if (buttonLang === currentLang) {
      button.classList.add("active");
    } else {
      button.classList.remove("active");
    }
  });
}

// Fun√ß√£o para obter idioma atual
function getCurrentLanguage() {
  const htmlLang = document.querySelector("html").getAttribute("lang");
  if (htmlLang === "pt-br") return "pt";
  if (htmlLang === "es") return "es";
  return "en";
}

// Inicializar i18n quando a p√°gina carregar
document.addEventListener("DOMContentLoaded", function () {
  const language = detectLanguage();
  applyTranslations(language);
  // Aguardar um pouco para garantir que os bot√µes foram renderizados
  setTimeout(() => updateLanguageButtons(language), 100);
});

// Exportar fun√ß√µes para uso global
window.i18n = {
  detectLanguage,
  applyTranslations,
  switchLanguage,
  setLanguage,
  getCurrentLanguage,
  updateLanguageButtons,
  translations,
};
